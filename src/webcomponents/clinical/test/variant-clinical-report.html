<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <link rel="stylesheet" href="../../../../../../../node_modules/bootstrap/dist/css/bootstrap.min.css">
        <!-- /build -->

        <!-- build:css css/bootstrap-table.min.css -->
        <link rel="stylesheet" href="../../../../../../../node_modules/bootstrap-table/dist/bootstrap-table.min.css">
        <!-- /build -->

        <!-- build:css css/bootstrap-treeview.min.css -->
        <link rel="stylesheet" href="../../../../../../../node_modules/bootstrap-treeview/dist/bootstrap-treeview.min.css">
        <!-- /build -->

        <!-- build:css css/bootstrap-colorpicker.min.css -->
        <link rel="stylesheet" href="../../../../../../../node_modules/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css">
        <!-- /build -->

        <!-- build:css css/bootstrap-datetimepicker.min.css -->
        <link rel="stylesheet" href="../../../../../../../node_modules/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css">
        <!-- /build -->

        <!-- build:css css/font-awesome.min.css -->
        <link rel="stylesheet" href="../../../../../../../../node_modules/font-awesome/css/font-awesome.min.css">
        <!-- /build -->

        <!-- build:css css/jquery.qtip.min.css -->
        <link rel="stylesheet" href="../../../../../../../node_modules/qtip2/dist/jquery.qtip.min.css">

        <script type="text/javascript" src="../../../../../../../node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/underscore/underscore-min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/backbone/backbone-min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/moment/min/moment.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/highcharts/highcharts.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/qtip2/dist/jquery.qtip.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/urijs/src/URI.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/cookies-js/dist/cookies.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/crypto-js/core.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/crypto-js/sha256.js"></script>
        <script type="text/javascript" src="../../../utilsNew.js"></script>
        <script type="text/javascript" src="../../../utils.js"></script>
        <script type="text/javascript" src="../../PolymerUtils.js"></script>
        <script type="text/javascript" src="interpretation.js"></script>
        <script type="text/javascript" src="../../../clients/cellbase/cellbase-client.js"></script>
        <script type="text/javascript" src="../../../clients/rest-client.js"></script>
        <script src="../../../../../../../src/conf/config.js"></script>
        <script src="../../../../../../../src/conf/tools.js"></script>
        <script type="text/javascript" src="../../../svg.js"></script>
        <script type="text/javascript" src="../../../visualisation/pedigree.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/bootstrap-table/dist/bootstrap-table.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/bootstrap-treeview/dist/bootstrap-treeview.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/bootstrap-validator/dist/validator.min.js"></script>
        <script type="text/javascript" src="../../../../../../../node_modules/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
        <link rel="import" href="../../../../../../../node_modules/@polymer/polymer/polymer-element.html">
        <link rel="import" href="../../../../../../../node_modules/@polymer/polymer/lib/elements/dom-repeat.html">
        <link rel="import" href="../../../../../../../node_modules/@polymer/polymer/lib/elements/dom-if.html">
        <link rel="import" href="../../../../../../../node_modules/@polymer/polymer/lib/elements/array-selector.html">
        <link rel="import" href="../../../../../../../node_modules/@polymer/polymer/lib/elements/custom-style.html">

        <link rel="import" href="../report/variant-report-view.html">
        <link rel="import" href="../report/variant-report-filter.html">
        <script type="text/javascript" src="../../../clients/opencga/opencga-client.js"></script>


    </head>
<body>
<dom-module id="my-element-in">
    <template>
        <div class="col-md-2">
            <variant-report-filter opencga-client="{{opencgaClient}}" study="{{study}}" config="{{config}}"
                                   selection="{{selection}}" exp-report="{{expReport}}" variables="{{variables}}"
                                   analysis="{{analysis}}"
                                   analysis-selected="{{analysisSelected}}"></variant-report-filter>
        </div>
        <div class="col-md-10">
        <variant-report-view study="{{study}}" config="{{config.tools.clinical}}"
                             title="{{title}}" variables="{{variables}}"
                             interpretation="{{interpretationJson}}" exp-report="{{expReport}}"></variant-report-view>
            </div>
    </template>
    <script>
        HTMLImports.whenReady(function() {
            // define the element's class element
            class MyElementIn extends Polymer.Element {

                constructor(){
                    super();

//                    this.prefix = "ff" + Utils.randomString(6);
                    this.interpretationJson = interpretationJson;
                    this.variables = [{"name":"technicalData","title":"Technical data (NGS platform,etc)","category":"ciberer_fields","type":"TEXT","defaultValue":"Illumina","required":true,"multiValue":true,"allowedValues":[],"rank":4,"dependsOn":"","description":"","attributes":{"prearranged":false,"pattern":"^([A-Za-z]+(\\s)?(\\n|\\r)?)+$","errorPattern":"Mandatory technical data. Only a-z characters and spaces are allowed","maxLength":600,"subtype":"TEXT"}},{"name":"testYear","title":"Year of Test","category":"ciberer_fields","type":"CATEGORICAL","required":true,"multiValue":true,"allowedValues":["2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"],"rank":2,"dependsOn":"","description":"","attributes":{}},{"name":"physician","title":"Physician","category":"ciberer_fields","type":"TEXT","defaultValue":"Name Surname","required":true,"multiValue":false,"allowedValues":[],"rank":1,"dependsOn":"","description":"","attributes":{"prearranged":false,"pattern":"^[A-Za-z]+((\\s)(('|-)?[A-Za-z])+)+$","errorPattern":"Mandatory name and surname. Only a-z, - or ' characters and spaces are allowed","maxLength":75,"subtype":"STRING"}},{"name":"testAge","title":"Age of Test","category":"ciberer_fields","type":"CATEGORICAL","required":true,"multiValue":true,"allowedValues":["0","1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110"],"rank":3,"dependsOn":"","description":"","attributes":{}},{"name":"hospital","title":"Hospital","category":"ciberer_fields","type":"TEXT","defaultValue":"Name","required":true,"multiValue":false,"allowedValues":[],"rank":0,"dependsOn":"","description":"","attributes":{"prearranged":false,"pattern":"^[A-Za-z]+((\\s)?(('|-)?[A-Za-z])+)+$","errorPattern":"Mandatory hospital name. Only a-z, - or ' characters and spaces are allowed","maxLength":75,"subtype":"STRING"}}];
                    this.title ="Clinical Analysis";
                    this.opencgaClientConfig = new OpenCGAClientConfig("bioinfodev.hpc.cam.ac.uk/hgva-1.2.0-dev", "v1", true, "clinical_interpretation_test");
                    this.opencgaClient = new OpenCGAClient(this.opencgaClientConfig);
                }

                static get is() { return 'my-element-in'; }

                static get properties(){
                    return {

                    }
                }

                _attachDom(dom) {
                    this.appendChild(dom);
                }

                ready() {
                    super.ready();
                    this.config = application;
                    this.set('config.tools', tools);
                    this.study = {
                        "id": 2,
                        "name": "1000 Genomes Project - Phase 3",
                        "alias": "1kG_phase3",
                    };

                    this.project = {
                        "id": 1,
                        "name": "Reference studies GRCh37",
                        "alias": "test@reference_grch37",
                    };


                }

                // Element class can define custom element reactions
                connectedCallback() {
                    super.connectedCallback();

                    console.log('my-element created!');
                }
            }

            customElements.define(MyElementIn.is, MyElementIn);
        });
    </script>
</dom-module>

<my-element-in></my-element-in>

</body>
</html>
